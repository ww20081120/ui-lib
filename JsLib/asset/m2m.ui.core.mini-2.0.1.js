var UI={};(function(b,d){b.Widget=c;var f={},a={init:"init",destory:"destory"},e="2.0.1";function c(i,g){var h=d.Deferred();h.promise(this);this.settings=d.extend({},f,i||{});this._version=g||e;this.callbacks={};d(d.proxy(function(){try{this._call("_init",a.init);h.resolve()}catch(j){h.reject(j)}},this))}d.extend(c.prototype,{getVersion:function(){return this._version},on:function(h,j){h=h.split(" ");for(var g=0;g<h.length;g++){(this.callbacks[h[g]]=this.callbacks[h[g]]||[]).push(j)}return this},once:function(i,h){var g=d.proxy(function(){this.off(i,g);h.apply(this,arguments)},this);this.on(i,g);return this},off:function(j,k){j=j.split(" ");for(var h=0;h<j.length;h++){var l=this.callbacks[j[h]];if(!l){continue}if(1==arguments.length){delete this.callbacks[j[h]];continue}var g=l.indexOf(k);l.splice(g,1)}return this},_emit:function(l){var h=[].slice.call(arguments,1),k=this.callbacks[l];if(k){for(var j=0,g=k.length;j<g;++j){k[j].apply(this,h)}}return this},_call:function(i,h){if(d.isFunction(this[i])){var g=[].slice.call(arguments,2);this[i].apply(this,g);if(h){this._emit(h)}}},_destory:function(){this._emit(a.destory);var g=this;d.each(g,function(h){delete g[h]})}})})(UI,jQuery);